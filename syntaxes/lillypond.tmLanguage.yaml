---
  $schema: https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json
  name: lillypond
  patterns:
    - include: "#keywords"
    - include: "#strings"
    - include: "#comment"

  repository:
    entity:
      patterns:
        - name: property
          begin: "{"
          end: "}"

    keywords:
      patterns:
        - name: keyword.control.lillypond
          begin: \\relative ?{
          end: "}"
          patterns:
            - name: support.constant.note
              match: "[abcdefgh]"
              settings: 
                foreground: "#AA0000"

            - name: support.constant.duration
              match: "\\d"

            - name: support.constant.barCheck
              match: "\\|"

        - name: keyword.control.lillypond
          begin: \\header ?{
          end: "}"
          patterns:
            - name: keyword.control.relative.lillypond
              match: d

        # - name: keyword.operator
        #  match: \\(version|header|relative|new|score|key|minor|clef)	
        #   match: =

    strings:
      name: string.quoted.double.lillypond
      begin: '"'
      end: '"'
      patterns:
        - name: constant.character.escape.lillypond
          match: \\.

    comment:
      patterns:
        - name: comment.block
          begin: "%{"
          end: "%}"
        - name: comment.line
          match: "%.+"



  scopeName: source.lillypond